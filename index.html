<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Autocom Logistics Hub | East Africa Division</title>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* =========================================
           1. PREMIUM THEME CONFIGURATION
           ========================================= */
        :root {
            /* Brand Palette - Deep Ocean Navy */
            --bg-deep: #050b14;
            --bg-card: rgba(16, 33, 56, 0.6);
            --primary: #0066cc;
            --primary-glow: #00ccff;
            --accent: #00f2ff;
            
            /* Status Colors */
            --st-success: #00e676;
            --st-warning: #ffb300;
            --st-danger: #ff3366;
            --st-info: #2979ff;
            
            /* Text */
            --text-main: #ffffff;
            --text-sec: #94a3b8;
            
            /* Effects */
            --glass-border: 1px solid rgba(255, 255, 255, 0.08);
            --glass-blur: blur(16px);
            --shadow-card: 0 15px 35px rgba(0, 0, 0, 0.4);
            --anim-speed: 0.4s cubic-bezier(0.25, 1, 0.5, 1);
        }

        /* =========================================
           2. GLOBAL RESET & BASE
           ========================================= */
        * { margin: 0; padding: 0; box-sizing: border-box; outline: none; }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-deep);
            color: var(--text-main);
            overflow-x: hidden;
            min-height: 100vh;
        }

        /* Animated Background Canvas */
        #particles {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            z-index: -1;
            background: radial-gradient(circle at 50% 10%, #0d1b2e 0%, #02060b 100%);
        }

        h1, h2, h3, h4 { font-family: 'Space Grotesk', sans-serif; letter-spacing: -0.5px; }

        /* =========================================
           3. UI COMPONENTS
           ========================================= */
        .container { max-width: 1400px; margin: 0 auto; padding: 0 30px; position: relative; z-index: 2; }

        /* HEADER */
        header {
            padding: 25px 0;
            border-bottom: var(--glass-border);
            background: rgba(5, 11, 20, 0.8);
            backdrop-filter: var(--glass-blur);
            position: sticky; top: 0; z-index: 100;
        }
        
        .nav-wrap { display: flex; justify-content: space-between; align-items: center; }
        
        .brand { display: flex; align-items: center; gap: 15px; }
        .brand-icon {
            width: 40px; height: 40px;
            background: var(--primary);
            border-radius: 8px;
            display: flex; align-items: center; justify-content: center;
            font-size: 1.2rem;
            box-shadow: 0 0 20px rgba(0, 102, 204, 0.4);
        }
        .brand-text h2 { font-size: 1.4rem; font-weight: 700; line-height: 1; }
        .brand-text span { font-size: 0.8rem; color: var(--text-sec); letter-spacing: 2px; text-transform: uppercase; }

        /* SEARCH BAR */
        .search-container { position: relative; width: 350px; }
        .search-container input {
            width: 100%;
            padding: 12px 20px 12px 45px;
            background: rgba(255,255,255,0.05);
            border: var(--glass-border);
            border-radius: 50px;
            color: white;
            font-family: inherit;
            transition: var(--anim-speed);
        }
        .search-container input:focus {
            background: rgba(255,255,255,0.1);
            border-color: var(--primary-glow);
            box-shadow: 0 0 15px rgba(0, 204, 255, 0.2);
        }
        .search-icon { position: absolute; left: 18px; top: 50%; transform: translateY(-50%); color: var(--text-sec); }

        /* =========================================
           4. CALCULATOR DASHBOARD
           ========================================= */
        .dashboard-grid {
            display: grid;
            grid-template-columns: 1.2fr 1.8fr;
            gap: 30px;
            margin: 50px 0;
            animation: slideUp 0.8s ease-out;
        }

        /* Common Glass Card Style */
        .glass-panel {
            background: var(--bg-card);
            backdrop-filter: var(--glass-blur);
            border: var(--glass-border);
            border-radius: 20px;
            padding: 35px;
            box-shadow: var(--shadow-card);
            position: relative;
            overflow: hidden;
        }
        
        /* Subtle glowing top border */
        .glass-panel::before {
            content: ''; position: absolute; top: 0; left: 0; right: 0; height: 1px;
            background: linear-gradient(90deg, transparent, var(--primary-glow), transparent);
            opacity: 0.5;
        }

        .panel-title { display: flex; align-items: center; gap: 10px; margin-bottom: 25px; color: var(--accent); }
        .panel-title i { filter: drop-shadow(0 0 8px var(--accent)); }

        /* Form Elements */
        .input-group { margin-bottom: 20px; }
        .input-group label { display: block; color: var(--text-sec); font-size: 0.85rem; margin-bottom: 8px; font-weight: 500; }
        
        select, input[type="date"] {
            width: 100%;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255,255,255,0.1);
            color: white;
            padding: 14px;
            border-radius: 10px;
            cursor: pointer;
            transition: 0.3s;
        }
        select:hover, input[type="date"]:hover { border-color: var(--primary); }
        option { background: var(--bg-deep); }

        /* Result Display */
        .result-box {
            margin-top: 30px;
            background: rgba(0, 242, 255, 0.05);
            border-radius: 12px;
            padding: 20px;
            border-left: 4px solid var(--accent);
            opacity: 0; transform: translateY(10px);
            transition: 0.5s all;
        }
        .result-box.active { opacity: 1; transform: translateY(0); }
        .result-date { font-size: 2rem; font-weight: 700; color: white; display: block; margin: 5px 0; }
        .result-label { font-size: 0.75rem; text-transform: uppercase; color: var(--text-sec); letter-spacing: 1px; }

        /* =========================================
           5. PROCESS VISUALIZER (Right Side)
           ========================================= */
        .process-track {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            position: relative;
            margin-top: 40px;
        }
        /* Connection Line */
        .process-track::after {
            content: ''; position: absolute; top: 25px; left: 40px; right: 40px;
            height: 3px; background: rgba(255,255,255,0.1); z-index: 0;
            border-radius: 2px;
        }

        .step {
            position: relative; z-index: 2;
            display: flex; flex-direction: column; align-items: center;
            width: 20%;
            transition: 0.5s;
            opacity: 0.4;
        }

        .step-icon-box {
            width: 50px; height: 50px;
            background: var(--bg-deep);
            border: 2px solid rgba(255,255,255,0.2);
            border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            font-size: 1.2rem; color: var(--text-sec);
            margin-bottom: 15px;
            transition: 0.5s;
        }

        .step-text h5 { font-size: 0.9rem; margin-bottom: 4px; }
        .step-text span { font-size: 0.75rem; color: var(--text-sec); }

        /* Active State */
        .step.active { opacity: 1; }
        .step.active .step-icon-box {
            border-color: var(--accent);
            color: var(--accent);
            box-shadow: 0 0 25px rgba(0, 242, 255, 0.2);
            transform: scale(1.1);
        }

        /* Skipped State */
        .step.skipped .step-icon-box { border-color: #333; color: #444; background: #000; }
        .step.skipped h5 { text-decoration: line-through; color: #555; }

        /* =========================================
           6. COUNTRY GRID SYSTEM
           ========================================= */
        .grid-section-title {
            margin-bottom: 30px;
            display: flex; justify-content: space-between; align-items: flex-end;
            border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 15px;
        }
        
        .grid-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 25px;
            padding-bottom: 100px;
        }

        .country-card {
            background: rgba(255,255,255,0.03);
            border: 1px solid rgba(255,255,255,0.05);
            border-radius: 16px;
            padding: 25px;
            position: relative;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            opacity: 0; transform: translateY(20px); /* Initial state for animation */
        }

        /* Card Hover Effect */
        .country-card:hover {
            transform: translateY(-10px) scale(1.02);
            background: rgba(255,255,255,0.06);
            border-color: var(--primary);
            box-shadow: 0 20px 40px rgba(0,0,0,0.4);
        }

        .card-header {
            display: flex; justify-content: space-between; align-items: center;
            margin-bottom: 20px;
        }
        .flag-box { font-size: 2rem; }
        
        .status-pill {
            font-size: 0.7rem; font-weight: 700; text-transform: uppercase;
            padding: 5px 12px; border-radius: 50px;
        }
        .pill-blue { background: rgba(41, 121, 255, 0.2); color: var(--st-info); border: 1px solid rgba(41, 121, 255, 0.4); }
        .pill-purple { background: rgba(156, 39, 176, 0.2); color: #e040fb; border: 1px solid rgba(156, 39, 176, 0.4); }
        .pill-red { background: rgba(255, 51, 102, 0.2); color: var(--st-danger); border: 1px solid rgba(255, 51, 102, 0.4); }

        .info-row {
            display: flex; justify-content: space-between; align-items: center;
            padding: 12px 0; border-bottom: 1px solid rgba(255,255,255,0.05);
        }
        .info-row:last-child { border: none; }
        
        .lbl { font-size: 0.85rem; color: var(--text-sec); }
        .val { font-size: 0.9rem; font-weight: 600; }

        .text-warn { color: var(--st-warning); }
        .text-good { color: var(--st-success); }

        /* Animation Keyframes */
        @keyframes slideUp { from { opacity: 0; transform: translateY(40px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes fadeCard { to { opacity: 1; transform: translateY(0); } }

        /* =========================================
           7. MEDIA QUERIES
           ========================================= */
        @media (max-width: 1000px) {
            .dashboard-grid { grid-template-columns: 1fr; }
            .process-track { overflow-x: auto; padding-bottom: 20px; }
            .process-track::after { width: 100%; min-width: 600px; }
            .step { min-width: 100px; }
        }
    </style>
</head>
<body>
    
    <canvas id="particles"></canvas>

    <header>
        <div class="container nav-wrap">
            <div class="brand">
                <div class="brand-icon"><i class="fas fa-cubes"></i></div>
                <div class="brand-text">
                    <h2>AUTOCOM</h2>
                    <span>EAST AFRICA</span>
                </div>
            </div>
            <div class="search-container">
                <i class="fas fa-search search-icon"></i>
                <input type="text" id="searchInput" placeholder="Search country..." onkeyup="filterGrid()">
            </div>
        </div>
    </header>

    <div class="container">
        
        <div class="dashboard-grid">
            
            <div class="glass-panel">
                <div class="panel-title">
                    <i class="fas fa-calculator"></i>
                    <h4>Smart Schedule</h4>
                </div>

                <div class="input-group">
                    <label>DESTINATION MARKET</label>
                    <select id="countrySelect" onchange="calculateLogic()">
                        <option value="ke">Kenya (Mombasa)</option>
                        <option value="tz">Tanzania (Dar es Salaam)</option>
                        <option value="ug">Uganda (via Mombasa)</option>
                        <option value="zm">Zambia (via Dar)</option>
                        <option value="zw">Zimbabwe (via Dar)</option>
                        <option value="drc">DR Congo (via Dar)</option>
                        <option value="bdi">Burundi (via Dar)</option>
                        <option value="mz">Mozambique (Maputo)</option>
                    </select>
                </div>

                <div class="input-group">
                    <label>TARGET ARRIVAL MONTH</label>
                    <input type="date" id="arrivalDate" onchange="calculateLogic()">
                </div>

                <div class="result-box" id="resultBox">
                    <span class="result-label">Purchase Deadline</span>
                    <span class="result-date" id="outputDate">--</span>
                    <p style="font-size:0.85rem; color: #fff; opacity:0.8; margin-top:5px;" id="outputNote">
                        Calculating...
                    </p>
                </div>
            </div>

            <div class="glass-panel">
                <div class="panel-title">
                    <i class="fas fa-project-diagram"></i>
                    <h4 id="vizTitle">Process Visualization</h4>
                </div>
                
                <div style="background: rgba(0,0,0,0.2); padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                    <p style="font-size: 0.9rem; color: var(--text-sec);">
                        <i class="fas fa-info-circle" style="color: var(--primary);"></i> 
                        The timeline below adapts automatically based on Country regulations (Inspection) and Geography (Inland Transit).
                    </p>
                </div>

                <div class="process-track">
                    <div class="step active">
                        <div class="step-icon-box"><i class="fas fa-gavel"></i></div>
                        <div class="step-text"><h5>Buy</h5><span>Day 1</span></div>
                    </div>
                    <div class="step active" id="stepInspect">
                        <div class="step-icon-box"><i class="fas fa-microscope"></i></div>
                        <div class="step-text"><h5 id="lblInspect">Insp.</h5><span>Processing</span></div>
                    </div>
                    <div class="step active">
                        <div class="step-icon-box"><i class="fas fa-ship"></i></div>
                        <div class="step-text"><h5>Ocean</h5><span>Transit</span></div>
                    </div>
                    <div class="step active">
                        <div class="step-icon-box"><i class="fas fa-anchor"></i></div>
                        <div class="step-text"><h5>Port</h5><span>Clearance</span></div>
                    </div>
                    <div class="step" id="stepInland">
                        <div class="step-icon-box"><i class="fas fa-truck-fast"></i></div>
                        <div class="step-text"><h5>Inland</h5><span>Trucking</span></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="grid-section-title">
            <h3>Active Regulations Database</h3>
            <span style="font-size: 0.8rem; color: var(--text-sec);">LIVE DATA // V.2025.1</span>
        </div>

        <div class="grid-container" id="gridContainer">
            </div>

    </div>

    <script>
        // ============================================
        // 1. DATA CONFIGURATION
        // ============================================
        const db = [
            { id: 'ke', name: 'Kenya', flag: 'ðŸ‡°ðŸ‡ª', port: 'Mombasa', type: 'Coastal', inspect: 'QISJ (Strict)', age: 'Max 8 Years', time: 55 },
            { id: 'tz', name: 'Tanzania', flag: 'ðŸ‡¹ðŸ‡¿', port: 'Dar es Salaam', type: 'Coastal', inspect: 'EAA Only', age: 'No Limit', time: 55 },
            { id: 'ug', name: 'Uganda', flag: 'ðŸ‡ºðŸ‡¬', port: 'Mombasa', type: 'Landlocked', inspect: 'EAA Only', age: 'Max 15 Years', time: 70 },
            { id: 'zm', name: 'Zambia', flag: 'ðŸ‡¿ðŸ‡²', port: 'Dar es Salaam', type: 'Landlocked', inspect: 'Optional', age: 'No Limit', time: 75 },
            { id: 'zw', name: 'Zimbabwe', flag: 'ðŸ‡¿ðŸ‡¼', port: 'Dar/Durban', type: 'Landlocked', inspect: 'Optional', age: 'No Limit', time: 75 },
            { id: 'drc', name: 'DR Congo', flag: 'ðŸ‡¨ðŸ‡©', port: 'Dar es Salaam', type: 'Landlocked', inspect: 'None', age: 'No Limit', time: 80 },
            { id: 'bdi', name: 'Burundi', flag: 'ðŸ‡§ðŸ‡®', port: 'Dar es Salaam', type: 'Landlocked', inspect: 'None', age: 'Max 10 Years', time: 75 },
            { id: 'mz', name: 'Mozambique', flag: 'ðŸ‡²ðŸ‡¿', port: 'Maputo', type: 'Special', inspect: 'None', age: 'No Limit', time: 90 }
        ];

        // ============================================
        // 2. GRID RENDERER (Clean, No Notes)
        // ============================================
        const gridEl = document.getElementById('gridContainer');

        function renderGrid(data) {
            gridEl.innerHTML = '';
            data.forEach((item, index) => {
                // Determine styling based on type
                let pillClass = 'pill-blue';
                if(item.type === 'Landlocked') pillClass = 'pill-purple';
                if(item.type === 'Special') pillClass = 'pill-red'; // For Mozambique

                // Special Text Coloring for Inspection
                let inspectColor = 'val';
                if(item.inspect === 'None') inspectColor = 'val text-sec';
                if(item.inspect.includes('Strict')) inspectColor = 'val text-warn';

                const card = document.createElement('div');
                card.className = 'country-card';
                card.style.animation = `fadeCard 0.5s ease-out forwards ${index * 0.1}s`; // Staggered delay

                card.innerHTML = `
                    <div class="card-header">
                        <div class="flag-box">${item.flag}</div>
                        <span class="status-pill ${pillClass}">${item.type}</span>
                    </div>
                    <h3 style="margin-bottom: 15px;">${item.name}</h3>
                    
                    <div class="info-row">
                        <span class="lbl">Inspection</span>
                        <span class="${inspectColor}">${item.inspect}</span>
                    </div>
                    <div class="info-row">
                        <span class="lbl">Age Limit</span>
                        <span class="val">${item.age}</span>
                    </div>
                    <div class="info-row">
                        <span class="lbl">Est. Time</span>
                        <span class="val">${item.time} Days</span>
                    </div>
                    <div class="info-row">
                        <span class="lbl">Port</span>
                        <span class="val" style="color:var(--primary-glow)">${item.port}</span>
                    </div>
                `;
                gridEl.appendChild(card);
            });
        }

        renderGrid(db);

        // Filter Logic
        function filterGrid() {
            const term = document.getElementById('searchInput').value.toLowerCase();
            const filtered = db.filter(i => i.name.toLowerCase().includes(term));
            renderGrid(filtered);
        }

        // ============================================
        // 3. CALCULATOR & VISUALIZER LOGIC
        // ============================================
        function calculateLogic() {
            const code = document.getElementById('countrySelect').value;
            const dateVal = document.getElementById('arrivalDate').value;
            const resultBox = document.getElementById('resultBox');
            
            // UI Elements for Visualizer
            const stepInspect = document.getElementById('stepInspect');
            const lblInspect = document.getElementById('lblInspect');
            const stepInland = document.getElementById('stepInland');

            // Find country data
            const country = db.find(c => c.id === code);
            
            // Logic Flags
            let totalDays = country.time;
            let needsInspect = true;
            let needsInland = (country.type === 'Landlocked');

            // 1. Handle Inspection Visuals
            if(country.inspect === 'None') {
                needsInspect = false;
                stepInspect.className = 'step skipped';
                lblInspect.innerText = "None";
            } else if (country.inspect === 'Optional') {
                stepInspect.className = 'step active';
                lblInspect.innerText = "Optional";
            } else {
                stepInspect.className = 'step active';
                lblInspect.innerText = country.inspect.split(' ')[0]; // Grab first word (QISJ/EAA)
            }

            // 2. Handle Inland Visuals
            if(needsInland) {
                stepInland.className = 'step active';
            } else {
                stepInland.className = 'step'; // dimmed
            }

            // 3. Calculate Date
            if(dateVal) {
                const arrival = new Date(dateVal);
                const deadline = new Date(arrival);
                deadline.setDate(arrival.getDate() - totalDays);

                resultBox.classList.add('active');
                document.getElementById('outputDate').innerText = deadline.toLocaleDateString('en-GB', { day: 'numeric', month: 'short', year: 'numeric' });
                
                let note = `Standard ${totalDays}-day timeline.`;
                if(code === 'mz') note = "âš  Warning: Uses monthly sailing schedule.";
                
                document.getElementById('outputNote').innerText = note;
            }
        }

        // ============================================
        // 4. BACKGROUND PARTICLE SYSTEM
        // ============================================
        const canvas = document.getElementById('particles');
        const ctx = canvas.getContext('2d');
        let width, height;
        let particles = [];

        function resize() {
            width = canvas.width = window.innerWidth;
            height = canvas.height = window.innerHeight;
        }
        window.addEventListener('resize', resize);
        resize();

        class Particle {
            constructor() {
                this.x = Math.random() * width;
                this.y = Math.random() * height;
                this.vx = (Math.random() - 0.5) * 0.5;
                this.vy = (Math.random() - 0.5) * 0.5;
                this.size = Math.random() * 2;
                this.alpha = Math.random() * 0.5;
            }
            update() {
                this.x += this.vx;
                this.y += this.vy;
                if(this.x < 0) this.x = width;
                if(this.x > width) this.x = 0;
                if(this.y < 0) this.y = height;
                if(this.y > height) this.y = 0;
            }
            draw() {
                ctx.fillStyle = `rgba(0, 204, 255, ${this.alpha})`;
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
            }
        }

        for(let i=0; i<60; i++) particles.push(new Particle());

        function animate() {
            ctx.clearRect(0, 0, width, height);
            particles.forEach(p => {
                p.update();
                p.draw();
            });
            // Draw connections
            particles.forEach((p1, i) => {
                particles.slice(i+1).forEach(p2 => {
                    const dx = p1.x - p2.x;
                    const dy = p1.y - p2.y;
                    const dist = Math.sqrt(dx*dx + dy*dy);
                    if(dist < 150) {
                        ctx.strokeStyle = `rgba(0, 204, 255, ${0.1 * (1 - dist/150)})`;
                        ctx.beginPath();
                        ctx.moveTo(p1.x, p1.y);
                        ctx.lineTo(p2.x, p2.y);
                        ctx.stroke();
                    }
                });
            });
            requestAnimationFrame(animate);
        }
        animate();

    </script>
</body>
</html>
